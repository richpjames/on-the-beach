{
  "version": "6",
  "dialect": "sqlite",
  "id": "10f7ac55-d6da-402f-8d77-add36e5f7833",
  "prevId": "50df2067-8023-427f-a949-a05a2825d57a",
  "tables": {
    "artists": {
      "name": "artists",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "normalized_name": {
          "name": "normalized_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "artists_normalized_name_unique": {
          "name": "artists_normalized_name_unique",
          "columns": [
            "normalized_name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "music_item_stacks": {
      "name": "music_item_stacks",
      "columns": {
        "music_item_id": {
          "name": "music_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "stack_id": {
          "name": "stack_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_music_item_stacks_stack_id": {
          "name": "idx_music_item_stacks_stack_id",
          "columns": [
            "stack_id"
          ],
          "isUnique": false
        },
        "idx_music_item_stacks_music_item_id": {
          "name": "idx_music_item_stacks_music_item_id",
          "columns": [
            "music_item_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "music_item_stacks_music_item_id_music_items_id_fk": {
          "name": "music_item_stacks_music_item_id_music_items_id_fk",
          "tableFrom": "music_item_stacks",
          "tableTo": "music_items",
          "columnsFrom": [
            "music_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "music_item_stacks_stack_id_stacks_id_fk": {
          "name": "music_item_stacks_stack_id_stacks_id_fk",
          "tableFrom": "music_item_stacks",
          "tableTo": "stacks",
          "columnsFrom": [
            "stack_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "music_item_stacks_music_item_id_stack_id_pk": {
          "columns": [
            "music_item_id",
            "stack_id"
          ],
          "name": "music_item_stacks_music_item_id_stack_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "music_items": {
      "name": "music_items",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "normalized_title": {
          "name": "normalized_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "item_type": {
          "name": "item_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'album'"
        },
        "artist_id": {
          "name": "artist_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "listen_status": {
          "name": "listen_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'to-listen'"
        },
        "purchase_intent": {
          "name": "purchase_intent",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'no'"
        },
        "price_cents": {
          "name": "price_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'USD'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "listened_at": {
          "name": "listened_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "artwork_url": {
          "name": "artwork_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_physical": {
          "name": "is_physical",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "physical_format": {
          "name": "physical_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "genre": {
          "name": "genre",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "catalogue_number": {
          "name": "catalogue_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_music_items_listen_status": {
          "name": "idx_music_items_listen_status",
          "columns": [
            "listen_status"
          ],
          "isUnique": false
        },
        "idx_music_items_purchase_intent": {
          "name": "idx_music_items_purchase_intent",
          "columns": [
            "purchase_intent"
          ],
          "isUnique": false
        },
        "idx_music_items_artist_id": {
          "name": "idx_music_items_artist_id",
          "columns": [
            "artist_id"
          ],
          "isUnique": false
        },
        "idx_music_items_created_at": {
          "name": "idx_music_items_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "music_items_artist_id_artists_id_fk": {
          "name": "music_items_artist_id_artists_id_fk",
          "tableFrom": "music_items",
          "tableTo": "artists",
          "columnsFrom": [
            "artist_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "music_links": {
      "name": "music_links",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "music_item_id": {
          "name": "music_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source_id": {
          "name": "source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_music_links_music_item_id": {
          "name": "idx_music_links_music_item_id",
          "columns": [
            "music_item_id"
          ],
          "isUnique": false
        },
        "idx_music_links_url": {
          "name": "idx_music_links_url",
          "columns": [
            "url"
          ],
          "isUnique": false
        },
        "music_links_item_url": {
          "name": "music_links_item_url",
          "columns": [
            "music_item_id",
            "url"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "music_links_music_item_id_music_items_id_fk": {
          "name": "music_links_music_item_id_music_items_id_fk",
          "tableFrom": "music_links",
          "tableTo": "music_items",
          "columnsFrom": [
            "music_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "music_links_source_id_sources_id_fk": {
          "name": "music_links_source_id_sources_id_fk",
          "tableFrom": "music_links",
          "tableTo": "sources",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "sources": {
      "name": "sources",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "url_pattern": {
          "name": "url_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "sources_name_unique": {
          "name": "sources_name_unique",
          "columns": [
            "name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "stacks": {
      "name": "stacks",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "stacks_name_unique": {
          "name": "stacks_name_unique",
          "columns": [
            "name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}